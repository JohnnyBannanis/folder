<!DOCTYPE HTML>

<html>
	<head>
		<title>Apuntes R - Juan Maldonado</title>
			<meta charset="utf-8" />
			<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
			<meta name="description" content="" />
			<meta name="keywords" content="" />
			<link rel="stylesheet" href="assets/css/main.css" />
	</head>




	<body class="is-preload">

		<!-- Header -->
		<header id="header">
			<a class="logo" href="index.html">Apuntes R</a>
			<nav>
				<a href="#menu">Índice</a>
			</nav>
		</header>




		<!-- nav-->
		<nav id="menu">
			<ul class="links">
				<li><a href="index.html#1">Antes de empezar</a></li>
				<li><a href="index.html#2">Introducción a R</a></li>
				<li><a href="index.html#2_2">Aritmética básica</a></li>
				<li><a href="index.html#2_3">Asignación de valores</a></li>
				<li><a href="index.html#2_4">Valores lógicos</a></li>
				<li><a href="index.html#2_5">Vectores</a></li>
				<li><a href="index.html#2_6">Funciones</a></li>
				<li><a href="index.html#expl">Explorar</a></li>
			</ul>
		</nav>




		<!-- Heading -->
		<div id="heading" >
			<h1>Apuntes de R - Inferencia estadistica</h1>
		</div>




		<!-- Main -->
		<section id="main" class="wrapper">
			<div class="inner">
				<div class="content">
					<p>Estos apuntes reflejan el progreso en las clases de laboratorio utilizando el lenguaje de programación R Proyect orientado al curso de Inferencia Estadística basándose en la materia vista en las cátedras referentes a estadística descriptiva y en el documento "Computación IV:
						introducción al software estadístico R" de Moreno Bevilacqua, Departamento de estadística, Universidad de Valparaíso
					</p>
		</section>





		<a id="1"></a>
		<section id="main" class="wrapper">
		<div class="inner">
		<div class="content">

			<header>
				<h2>1 : Algunos conceptos antes de empezar</h2>
			</header>

			<h3>1.4 : La ayuda en línea</h3>
			<p>La ayuda en línea de R presenta informaciones muy útiles sobre cómo utilizar las funciones. Podemos encontrar directamente la ayuda para una función dada en específico anteponiendo el caracter <code>?</code> a dicha función.
				Al ejecutarse la ayuda nos mostrará una página HTML con la información relativa a la función, como opciones, argumentos y ejemplos.</p>

				<pre><code>?lm    #Ayuda relacionada a montaje de modelos lineales

?plot  #Ayuda relacionada a trazado generico X-Y</code></pre>

			<p>Otra forma de acceder a la ayuda es a través del comando <code>help</code>. En el caso que se desee acceder
				a la página principal de ayuda podremos utilizar un método de la clase <code>help</code>.</p>

			<pre><code>help(plot)
help.start()		#pagina principal de ayuda</code></pre>

			<p></p>
		</section>




		<a id="2"></a>
		<section id="main" class="wrapper">
		<div class="inner">
		<div class="content">

			<header>
				<h2>2 : Introducción a R</h2>
			</header>

			<h3>2.1 : Empezar y cerrar una sesión de R</h3>

			<p>Para empezar y finalizar una sesión de R, desde la aplicación debemos escribir <code>q()</code>, posteriormente nos preguntará si deseamos guardar los datos. Dicha acción guardará el ambiente de trabajo en nuestra carpeta de trabajo en el archivo de extensión .Rdata</p>
			<p>Para conocer cúal es nuestro directorio de trabajo (working directory) debemos ejecutar el siguiente comando:</p>
			<pre><code>getwd()</code></pre>
			<p>Si deseamos cambiar el directorio de trabajo debemos ejecutar el comando <code>setwd("ruta")</code>, ingresando la ruta deseada como parámetro. A continuación un ejemplo.</p>
			<pre><code>setwd("c:/nuevo_directorio")</code></pre>
			<p>Para visualizar los archivos existentes en nuestro, directorio R cuenta con una función para listarlos.</p>
			<pre><code>ls()</code></pre>
			<p>Eliminación de archivos del directorio</p>

			<pre><code>rm(archivo)		#remueve un archivo

rm(archivo1,archivo2)	#remueve varios archivos

rm(list = ls())		#remueve todos los archivos</code></pre>

			<p>Guardado y cargado del workspace</p>
			<pre><code>save.image(file="myfile.RData")	#Guardar
load("myfile.RData")		#Cargar</code></pre>
			<hr />




			<a id="2_2"></a>
			<section class="wrapper">
				<h3>2.2 : Aritmética básica</h3>

				<p>R, al igual que una calculadora, puede resolver distintas operaciones aritméticas (suma, resta, multiplicación, etc) mediante la unión de números y el símbolo de operación. Cada operación que se escriba será evaluada</p>
				<p><code>+</code> <code>-</code> <code>*</code> <code>/</code> <code>%/%</code> <code>%%</code></p>
				<pre class="r"><code>2+5+0+3		#suma
20-3-2-0	#resta
2*(10+10)	#multiplicación
(60/3)-10	#división
5%/%3		#división entera
5%%3		#modulo</code></pre>
				<p> Resultados de las operaciones</p>
				<pre><code>## [1] 10
## [1] 15
## [1] 40
## [1] 10
## [1] 1
## [1] 2</code></pre>

				<p>Además R posee todas las funciones matemáticas clásicas presentadas en la siguiente tabla</p>

				<table>
					<thead>
						<tr>
							<th>Función</th>
							<th>Descripción</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td style="text-align: center"><code>sqrt()</code></td>
							<td>Raiz cuadrada</td>
						</tr>
						<tr>
							<td style="text-align: center"><code>abs()</code></td>
							<td>Valor absoluto</td>
						</tr>
						<tr>
							<td style="text-align: center"><code>pi</code></td>
							<td>Valor de pi = 3.14…</td>
						</tr>
						<tr>
							<td style="text-align: center"><code>sin()	cos()	tan()</code></td>
							<td>Funciones trigonométricas</td>
						</tr>
						<tr>
							<td style="text-align: center"><code>asin() acos() atan()</code></td>
							<td>Funciones trigonométricas inversas</td>
						</tr>
						<tr>
							<td style="text-align: center"><code>exp()	log()</code></td>
							<td>Exponencial y logaritmo</td>
						</tr>
					</tbody>
				</table>

				<p>Ejemplo de utilizacion de funciones matematicas.</p>
				<pre class="r"><code>abs(sqrt(25)*cos(1)+exp(2)-100)</code></pre>
				<pre class="r"><code>##[1] 89.90943</code></pre>
			</section>
			<hr />

			<a id="2_3"></a>
			<section class="wrapper">
				<h3>2.3 : Asignación de valores</h3>
				<p>Se puede guardar un valor en una variable o un objeto haciendo uso del símbolo <code><-</code> o el símbolo <code>=</code> </p>
				<pre class="r"><code>x <- 10
variable = 10
x*variable</code></pre>
				<pre class="r"><code>##[1] 100</code></pre>
			</section>
			<hr />




			<a id="2_4"></a>
			<section class="wrapper">
				<h3>2.4 : Valores lógicos</h3>
				<p>R permite la capacidad de ejecutar operaciones y variables lógicas. Estas nos ayudan a la comparación de valores numéricos o expresiones lógicas. Estas operaciones pueden retornar los valores lógicos o binarios <code>TRUE</code> y <code>FALSE</code>.</p>

				<table>
					<thead>
						<tr>
							<th>Operador lógico</th>
							<th>Descripción</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td style="text-align: center"><code>&lt;</code></td>
							<td>Menor que</td>
						</tr>
						<tr>
							<td style="text-align: center"><code>&gt;</code></td>
							<td>Mayor que</td>
						</tr>
						<tr>
							<td style="text-align: center"><code>&lt;=</code></td>
							<td>Menor o igual que</td>
						</tr>
						<tr>
							<td style="text-align: center"><code>&gt;=</code></td>
							<td>Mayor o igual que</td>
						</tr>
						<tr>
							<td style="text-align: center"><code>!</code></td>
							<td>Negación lógica</td>
						</tr>
						<tr>
							<td style="text-align: center"><code>&amp;</code></td>
							<td>Conjunción lógica "AND"</td>
						</tr>
						<tr>
							<td style="text-align: center"><code>|</code></td>
							<td>Disjunción lógica “OR”</td>
						</tr>
						<tr>
							<td style="text-align: center"><code>==</code></td>
							<td>Igual que</td>
						</tr>
						<tr>
							<td style="text-align: center"><code>!=</code></td>
							<td>Distinto que</td>
						</tr>
					</tbody>
				</table>

				<p>Ejemplo de utilización de operadores lógicos</p>

				<pre><code>l = 2 &lt; 4
print(l)</code></pre>
				<pre><code>## [1] TRUE</code></pre>
				<pre><code>op = l &amp; FALSE
print(op)</code></pre>
				<pre><code>## [1] FALSE</code></pre>
				<pre><code>!op == l</code></pre>
				<pre><code>## [1] TRUE</code></pre>
			</section>
			<hr />




			<a id="2_5"></a>
			<section class="wrapper">
				<h3>2.5 : Gestión de vectores</h3>
				<h4>2.5.1 : Creación de vectores</h4>
				<p>Para la creación podemos asignar a una variable la función <code>c()</code> donde podremos ingresas como parámetro tantos atributos como se desee separados por una <code>,</code>

				<pre><code>x = c(1,2,3,4)
x</code></pre>
				<pre><code>[1] 1 2 3 4</code></pre>
				<p>Si es necesario añadir muchos elementos al vector se puede utilizar el método <code>scan()</code> el cual solicitará ingresar los valores por teclado, y se detendrá cuando se ingrese un valor vacío. También es posible limitar la lectura a un número de elementos utilizando el parámetro <code>nmax</code>,
					por ejemplo <code>x = scan(nmax=5)</code> solo podremos ingresar 5 valores</p>
				<pre><code>x = scan()</code></pre>
				<pre><code>1: 45
2: 1
3: 23
4: 0
5: 2
6: 1
7:			#recive valor vacío
Read 6 items		#indica que termino la lectura y agregó 6 valores</code></pre>
				<pre><code>print(x)		#Mostramos el vector creado</code></pre>
				<pre><code>## [1] 45  1 23  0  2  1</code></pre>
				<p>Otra particularidad de utilizar el método <code>scan()</code> es que nos permite rellenar un vector a través de la lectura de un archivo que se encuentre en el workspace. Supongamos el caso que se tenga el siguiente archivo:</p>
				<pre><code>datos.txt:
1 2 3 4 5 6 7 8 9 0</code></pre>
				<pre><code>#Realizamos la lectura con el comando:
vector = scan("datos.txt")
vector</code></pre>
				<pre><code>## [1] 1 2 3 4 5 6 7 8 9 0</code></pre>



				<h4>2.5.2 : Secuencias numéricas</h4>
				<p>Otra forma de crear vectores es a través de secuencias <code>ni:nf</code> siendo <code>ni</code> el valor inicial y <code>nf</code> el final, incluso pueden ser en orden decreciente </p>

				<pre><code>v = 0:15
v_d = 10:1
print(v)
print(v_d)</code></pre>
				<pre><code>## [1]  0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15</code></pre>
				<pre><code>## [1] 10  9  8  7  6  5  4  3  2  1</code></pre>
				<p>Es posible crear una secuencia por medio de la repetición de un numero utilizando <code>rep(n, v)</code> siendo <code>n</code> el valor a repetir y <code>v</code> la cantidad de veces</p>
				<pre><code>repetido = rep(2,5)
print(repetido)</code></pre>
				<pre><code>## [1] 2  2  2  2  2</code></pre>



				<h4>2.5.3 : Extracción de los elementos de un vector</h4>
				<p>Los elementos de un vector pueden ser extraídos utilizando <code>[n]</code>, donde <code>n</code> es la posición del vector a la cual deseamos acceder. Es también posible extraer subconjuntos de un vector indicando los índices para nuestro subconjunto <code>[c(x1, x2, x3, xn)]</code> o bien utilizar una secuencia <code>[ni:nf]</code></p>
				<pre><code>nums = 1:100
nums[50
## [1] 50
nums[c(1,5,90)]
## [1]  1  5  90
nums[50:60]</code></pre>
				<pre><code>## [1] 50  51  52  53  54  55  56  57  58  59  60</code></pre>



				<h4>Operaciones de vectores</h4>
				<table>
					<thead>
						<tr>
							<th>Función</th>
							<th>Descripción</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td style="text-align: center"><code>length(x)</code></td>
							<td>Largo del vector</td>
						</tr>
						<tr>
							<td style="text-align: center"><code>max(x)</code></td>
							<td>Mayor valor del vector</td>
						</tr>
						<tr>
							<td style="text-align: center"><code>min(x)</code></td>
							<td>Menor valor del vector</td>
						</tr>
						<tr>
							<td style="text-align: center"><code>sum(x)</code></td>
							<td>Suma de todos los elementos del vector</td>
						</tr>
						<tr>
							<td style="text-align: center"><code>prod(x)</code></td>
							<td>Producto de todos los elementos del vector</td>
						</tr>
						<tr>
							<td style="text-align: center"><code>sort(x)</code></td>
							<td>Ordena vector de menor a mayor</td>
						</tr>
						<tr>
							<td style="text-align: center"><code>sort.list(x)</code></td>
							<td>Retorna un vector con los indices de valores menores a mayores</td>
						</tr>
						<tr>
						</tbody>
					</table>
				</section>
				<hr />




				<a id="2_6"></a>
				<section class="wrapper">
					<h3>2.6 : Elementos de programación en R</h3>
					<p>Al igual que en otros lenguajes de programación es posible crear funciones en R utilizando la siguiente sintaxis.</p>
					<pre><code>nombrefun <- function(a, b, c, ...) {
}</code></pre>
					<p>como se observa en el ejemplo <code>a</code>, <code>b</code> y <code>c</code> son parámetros de la función <code>numbrefun</code>.
						Los parámetros pueden tomar un valor por defecto si se les asigna en la declaración, como por ejemplo: <code>function(a,b=5,c)</code> donde <code>b</code> tomará el valor 5.</p>

					<h3>Funciones para estadística descriptiva</h3>

<h4><b>Mediana</b></h4>
<p>Representa el valor de la variable de posición central en un conjunto de datos ordenados.</p>

<pre><code>mediana <- function(a){
  if(length(a)%%2 == 0){
    b = sort(a)
    m = (b[length(b)/2] + b[(length(b)/2)+1])/2
  }
  else{
    b = sort(a)
    m = b[(length(b)+1)/2]
  }
  return(m)
}</code></pre>
<hr />


<h4><b>Moda</b></h4>
<p>La moda es el valor con mayor frecuencia en una distribución de datos</p>

<pre><code>moda <- function(a){
  repe = 0
  for(i in a){
    n_veces = length(which(a == i))
    if(n_veces > repe){
      repe = n_veces
    }
  }
  modas = c()
  for(i in a){
    n_veces = length(which(a == i))
    if(n_veces == repe){
      if(!(is.element(i,modas))){
        modas = c(modas,i)
      }
    }
  }
  return(modas)
}</pre></code>
<hr />

<h4><b>Media</b></h4>
<p>La media corresponde a un valor caracteristico de un conjunto de datos, es la suma de todos los datos dividida entre el número total de datos</p>

<pre><code>media <- function(a){
  sum = 0
  for(i in 1:length(a)){
    sum = sum + a[i]
  }
  med = sum / length(a)
  return(med)
}</pre></code>
<hr />

<h4><b>Percentil</b></h4>
<p>El percentil es una medida de posición usada en estadística que indica, una vez ordenados los datos de menor a mayor, el valor de la variable por debajo del cual se encuentra un porcentaje dado de observaciones en un grupo de observaciones</p>

<pre><code>percentil <- function(v,num){
  x = sort(v) #datos ordenados
  a = num/100
  i = a*(length(x)+1)
  e = as.integer(i) #parte entera
  d = i - e #parte decimal
  p = (1-d) * x[e]+ (d * x[e+1])
  return(p)
  }
</pre></code>
<hr />

<h4><b>Cuartil</b></h4>
<p>Los cuartiles son los tres valores que dividen un conjunto de datos ordenados en cuatro partes porcentualmente iguales</p>

<pre><code>cuartil <- function(v,n=0){
  x = sort(v)
  Q1 = percentil(x,25)
  Q2 = percentil(x,50)
  Q3 = percentil(x,75)
  Q = c(Q1,Q2,Q3)
  if(n==1){
    return(Q1)
  }
  if(n==2){
    return(Q2)
  }
  if(n==3){
    return(Q3)
  }
  else{
    cat("Q1 =",Q1,"Q2 =",Q2,"Q3 =",Q3,"\n")
    return(Q)

  }
}
</pre></code>
<hr />

<h4><b>Rango</b></h4>
<p>Permite obtener una idea de la dispersión de los datos, diferencia entre el dato mayor y el menor</p>

<pre><code>rango <- function(v){
  x = sort(v)
  rang = x[length(x)] - x[1]
  return(rang)
}
</pre></code>
<hr />

<h4><b>Rango Intercuartil</b></h4>
<p>la diferencia entre el tercer y el primer cuartil de una distribución</p>

<pre><code>rango_ic <- function(v){
  rang_ic= cuartil(v,3) - cuartil(v,1)
  return(rang_ic)
}
</pre></code>
<hr />

<h4><b>Varianza</b></h4>
<p> Es una medida de dispersión definida como la esperanza del cuadrado de la desviación de dicha variable respecto a su media.</p>

<pre><code>varianza<-function(v){
  sum = 0
  for(i in 1:length(v)){
    aux = (v[i] - media(v))^2
    sum = sum + aux
  }
  vari = sum/( length(v)- 1)
  return(vari)
}
</pre></code>
<hr />

<h4><b>Desviacion Estandar</b></h4>
<p> es una medida del grado de dispersión de los datos con respecto al valor promedio. Se define como la raíz cuadrada de la varianza de la variable.</p>

<pre><code>desviacion_e <- function(v){
  x = sqrt(varianza(v))
  return(x)
}
</pre></code>
<hr />

<h4><b>Desviacion Media</b></h4>
<p>Da información de lo alejado o cerca que está un dato de los demás datos del conjunto</p>

<pre><code>desviacion_m <- function(v){
  sum = 0
  for(i in 1:length(v)){
    aux = abs(v[i] - media(v))
    sum = sum + aux
  }
  v_med = sum/length(v)
  return(v_med)
}
</pre></code>
<hr />

<h4><b>Coeficiente de variacion</b></h4>
<p>Expresa la desviación estándar como porcentaje de la media aritmética, mostrando una mejor interpretación porcentual del grado de variabilidad que la desviación estándar.</p>

<pre><code>coeficiente_v <- function(v){
  cv = desviacion_e(v)/media(v)
  cv_p = cv*100
  return(cv_p)
}
</pre></code>
<hr />

<h4><b>Barreras de Tukey</b></h4>
<p>Consiste encrear intervalos en torno al primer y tercer cuartil para la identificacion de datos atipicos</p>

<pre><code>tukey <- function(v){
  ri = rango_ic(v)
  Q1 = cuartil(v,1)
  Q3 = cuartil(v,3)
  BII = Q1 - 1.5*(ri)
  BIS = Q3 + 1.5*(ri)
  BEI = Q1 - 3*(ri)
  BES = Q3 + 3*(ri)
  cat("Barreras: BEI = ",BEI,"," , " BII = ",BII,","," BIS = ",BIS,","," BES = ",BES,"\n")
  barreras = c(BEI,BII,BIS,BES)
  return(barreras)
}
</pre></code>
<hr />

<h4><b>Coeficiente de Asimetria o Sesgo</b></h4>
<p>Permite identificar y describir la manera como los datos tiende a reunirse de acuerdo con la frecuencia con que se hallen dentro de la distribución</p>

<pre><code>sesgo <- function(v){
  sum = 0
  n = length(v)
  de = desviacion_e(v)
  for(i in 1:n){
    aux = (v[i]-media(v))^3 /(de)^3
    sum = sum + aux
  }
  return(sum)
}
</pre></code>
<hr />

<h4><b>Coeficiente de Curtosis</b></h4>
<p>La curtosis mide el grado de agudeza o achatamiento de una distribución con relación a la distribución normal</p>

<pre><code>curtosis <- function(v){
  sum = 0
  de = desviacion_e(v)
  for(i in 1:length(v)){
    aux = (v[i]-media(v))^4 / (de)^4
    sum = sum + aux
  }
  return(sum)
}

</pre></code>
			</section>
			<hr />

				<a id="expl"></a>
				<section class="wrapper">
					<h3>Función Explorar</h3>
					<p>Utilizando las funciones definidas previamente, crearemos una función “explora” cuyo fin será entregar en una tabla un reporte estadístico de un conjunto de datos especificado de ese modo acceder a toda la información en un solo comando.</p>
					<pre><code>explorar <- function(v){
  prom = media(v)
  mod = moda(v)
  med = mediana(v)
  cuart = cuartil(v)
  rang = rango(v)
  ri = rango_ic(v)
  var = varianza(v)
  cv = coeficiente_v(v)
  s = desviacion_e(v)
  dm = desviacion_m(v)
  tuk = tukey(v)
  ses = sesgo(v)
  k = curtosis(v)
  q1 = cuart[1]
  q2 = cuart[2]
  q3 = cuart[3]
  bei = tuk[1]
  bii = tuk[2]
  bis = tuk[3]
  bes = tuk[4]
  cat("Datos: ",v,"\n")
  cat("Modas: ",mod,"\n")
  Parametro = c(" ","maximo ","minimo ","media ","moda menor ",
                "mediana ","rango ","rango intercuartil ","cuartil 1 ","cuartil 2 ","cuartil 3 ",
                "varianza ","coeficiente de variacion %","desviacion estandar ","desviacion media ","barreras de tukey:   ",
                "exterior inferior ","interior inferior ","interior superior ","exterior superior ",
                "coeficiente de asimetria ","curtosis ")
  Valor = c(" ", max(v), min(v), prom, min((mod)), med, rang, 
            ri, q1, q2, q3, var, cv, s, dm, "", bei, bii, bis, bes, ses, k)
  tabla = data.frame(Parametro,Valor)
  return(tabla)
  }
</pre></code>

<pre><code>datos = c(1,5,20,10,6,15,22,11,10)
explorar(datos)

Q1 = 5.5 Q2 = 10 Q3 = 17.5
Barreras: BEI =  -30.5 ,  BII =  -12.5 ,  BIS =  35.5 ,  BES =  53.5
Datos:  1 5 20 10 6 15 22 11 10 
Modas:  10 
                    Parametro	            Valor
1                            	                 
2                     maximo 	               22
3                     minimo 	                1
4                      media 	 11.1111111111111
5                 moda menor 	               10
6                    mediana 	               10
7                      rango 	               21
8         rango intercuartil 	               12
9                  cuartil 1 	              5.5
10                 cuartil 2 	               10
11                 cuartil 3 	             17.5
12                  varianza 	 47.6111111111111
13 coeficiente de variacion %	 62.1007246334534
14       desviacion estandar 	 6.90008051482815
15          desviacion media 	 5.25925925925926
16      barreras de tukey:   	                 
17         exterior inferior 	            -30.5
18         interior inferior 	            -12.5
19         interior superior 	             35.5
20         exterior superior 	             53.5
21  coeficiente de asimetria  	 1.99081850668208
22                  curtosis 	 14.5852505302161


</pre></code>

				</section>

</section>


		<!-- Footer -->
		<footer id="footer">
			<div class="inner">
				<div class="content">
				<p>Juan Ignacio Maldonado Rosas  |  Universidad Catolica del Maule  |  Ingenieria Civil Informatica ingreso 2016  |  Inferencia Estadistica - Primer semestre 2018</p>
				</div>
			</div>
		</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
